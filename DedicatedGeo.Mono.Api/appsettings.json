{
  "AllowedHosts": "*",
  "Logging": {
    "IncludeScopes": false,
    "LogLevel": {
      "Default": "Information",
      "System": "Warning",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "Microsoft.EntityFrameworkCore.Database.Command": "Warning",
      "Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager": "Warning",
      "Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository": "Warning"
    }
  },
  "JwtBearerOptions": {
    "issuer": "dedicatedgeo",
    "audience": "dedicatedgeo-web-user",
    "validateIssuerSigningKey": true,
    "ValidateLifetime": true,
    "secretKey": "!! ------ DONT PUT SECRET KEY HERE ------ !!",
    "lifeTime": 10080
  },
  "NLog": {
    "autoReload": false,
    "throwConfigExceptions": true,
    "default-wrapper": {
      "type": "AsyncWrapper",
      "overflowAction": "Grow"
    },
    "targets": {
      "jsonlog": {
        "type": "File",
        "fileName": "${gdc:item=LogFolder}/app-json-log-${guid:cached=true}-${date:format=yyyy-MM-dd-HH}.log",
        "archiveAboveSize": 100000000,
        "archiveDateFormat": "yyyy-MM-dd-HH",
        "archiveFileName": "${gdc:item=LogFolder}/app-json-log-{#}.zip",
        "archiveNumbering": "DateAndSequence",
        "enableFileDelete": false,
        "keepFileOpen": true,
        "openFileCacheTimeout": 10,
        "layout": {
          "type": "JsonLayout",
          "suppressSpaces": true,
          "Attributes": [
            {
              "name": "serverLogTime",
              "layout": "${date:universalTime=true:format=yyyy-MM-ddTHH\\:mm\\:ss.fffZ}",
              "IncludeEmptyValue": true
            },
            {
              "name": "clientIp",
              "layout": "${mdlc:item=ClientIp}",
              "IncludeEmptyValue": true
            },
            {
              "name": "requestId",
              "layout": "${mdlc:item=RequestId}",
              "IncludeEmptyValue": true
            },
            {
              "name": "logLevel",
              "layout": "${level:uppercase=true}",
              "IncludeEmptyValue": true
            },
            {
              "name": "us_hostname",
              "layout": "${hostname}",
              "IncludeEmptyValue": true
            },
            {
              "name": "loggerComponent",
              "layout": "${logger:shortName=true}",
              "IncludeEmptyValue": true
            },
            {
              "name": "message",
              "layout": "${message}",
              "IncludeEmptyValue": true
            },
            {
              "name": "exception",
              "layout": "${exception:format=toString:maxInnerExceptionLevel=3}",
              "IncludeEmptyValue": true
            }
          ]
        }
      },
      "Console": {
        "type": "Console",
        "layout": "[${date:universalTime=true:format=yyyy-MM-dd HH\\:mm\\:ss.fff}] [${level:uppercase=true}] [${hostname}] [${threadid}] [${logger:shortName=true}] [${exception:format=toString:maxInnerExceptionLevel=3}] ${message}"
      }
    },
    "rules": [
      {
        "ruleName": "JsonLogs",
        "logger": "*",
        "minLevel": "Info",
        "writeTo": "jsonlog"
      },
      {
        "logger": "*",
        "minLevel": "Info",
        "writeTo": "Console"
      }
    ]
  }
}
